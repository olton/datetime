var Datetime=function(t){"use strict";const e=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|m{1,2}|s{1,3}/g,a={months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekStart:0},s={ms:"Milliseconds",s:"Seconds",m:"Minutes",h:"Hours",D:"Date",d:"Day",M:"Month",Y:"FullYear",y:"Year",t:"Time"},r="ms",i="second",n="minute",u="hour",h="day",l="week",d="month",o="year",c=(t="")=>{throw new Error("This argument is required!")},m=t=>null==t,y=function(t,e,a){let s=""+t;return a&&s.length>=a?s:Array(a+1-s.length).join(e)+s},k=(t,e=!0)=>{try{return e?void 0!==t:null!=t}catch(t){return!1}};class b{constructor(){const t=[].slice.call(arguments);if(this.value=new(Function.prototype.bind.apply(Date,[this].concat(t))),this.locale="en",this.weekStart=b.locales.en.weekStart,this.utcMode=!1,this.mutable=!0,e=this.value.getTime(),isNaN(e))throw new Error("Invalid date");var e}static isDatetime(t){return t instanceof b}static now(t){return v()[t?"val":"time"]()}static parse(t=c()){return v(Date.parse(t))}static setLocale(t=c(),e=c()){b.locales[t]=e}static getLocale(t="en"){return k(b.locales[t],!1)?b.locales[t]:b.locales.en}static align(t,e){let a,s,r=v(t);switch(e){case i:a=r.ms(0);break;case n:a=b.align(r,i)[i](0);break;case u:a=b.align(r,n)[n](0);break;case h:a=b.align(r,u)[u](0);break;case d:a=b.align(r,h)[h](1);break;case o:a=b.align(r,d)[d](0);break;case l:s=r.weekDay(),a=b.align(t,h).addDay(-s);break;default:a=r}return a}static alignEnd(t,e){let a,s,c=v(t);switch(e){case r:a=c.ms(999);break;case i:a=b.alignEnd(c,r);break;case n:a=b.alignEnd(c,i)[i](59);break;case u:a=b.alignEnd(c,n)[n](59);break;case h:a=b.alignEnd(c,u)[u](23);break;case d:a=b.alignEnd(c,h)[h](1).add(1,d).add(-1,h);break;case o:a=b.alignEnd(c,h)[d](11)[h](31);break;case l:s=c.weekDay(),a=b.alignEnd(c,"day").addDay(6-s);break;default:a=t}return a}immutable(t){return this.mutable=!(m(t)||t),this}utc(){return this.utcMode=!0,this}local(){return this.utcMode=!1,this}useLocale(t){return this.locale=k(b.locales[t],!1)?t:"en",this.weekStart=b.getLocale(this.locale).weekStart,this}clone(){const t=v(this.value);return t.locale=this.locale,t.weekStart=this.weekStart,t.mutable=this.mutable,t}align(t){return this.mutable?(this.value=b.align(this,t).val(),this):this.clone().immutable(!1).align(t).immutable(!this.mutable)}alignEnd(t){return this.mutable?(this.value=b.alignEnd(this,t).val(),this):this.clone().immutable(!1).alignEnd(t).immutable(!this.mutable)}val(t){return t instanceof Date?this.mutable?(this.value=t,this):v(t):this.value}year2(){return+(""+this.year()).substr(-2)}_set(t,e){const a="set"+(this.utcMode&&"t"!==t?"UTC":"")+s[t];if(this.mutable)return this.value[a](e),this;const r=this.clone();return r.value[a](e),r}_get(t){const e="get"+(this.utcMode&&"t"!==t?"UTC":"")+s[t];return this.value[e]()}_work(t,e){return arguments.length&&null!=e?this._set(t,e):this._get(t)}ms(t){return this._work("ms",t)}second(t){return this._work("s",t)}minute(t){return this._work("m",t)}hour(t){return this._work("h",t)}day(t){return this._work("D",t)}month(t){return this._work("M",t)}year(t){return this._work("Y",t)}time(t){return this._work("t",t)}weekDay(t){if(!arguments.length||m(t))return this.utcMode?this.value.getUTCDay():this.value.getDay();const e=t-this.weekDay();return this.day(this.day()+e),this}get(t){return"function"!=typeof this[t]?this:this[t]()}set(t,e){return"function"!=typeof this[t]?this:this[t](e)}add(t,e){switch(e){case u:return this.time(this.time()+60*t*60*1e3);case n:return this.time(this.time()+60*t*1e3);case i:return this.time(this.time()+1e3*t);case r:return this.time(this.time()+t);case h:return this.day(this.day()+t);case l:return this.day(this.day()+7*t);case d:return this.month(this.month()+t);case o:return this.year(this.year()+t)}}addHour(t){return this.add(t,u)}addMinute(t){return this.add(t,n)}addSecond(t){return this.add(t,i)}addMs(t){return this.add(t,r)}addDay(t){return this.add(t,h)}addWeek(t){return this.add(t,l)}addMonth(t){return this.add(t,d)}addYear(t){return this.add(t,o)}format(t,a){const s=t||"YYYY-MM-DDTHH:mm:ss.sss",r=b.getLocale(a||this.locale),i=this.year(),n=this.year2(),u=this.month(),h=this.day(),l=this.weekDay(),d=this.hour(),o=this.minute(),c=this.second(),m=this.ms(),k={YY:n,YYYY:i,M:u+1,MM:y(u+1,0,2),MMM:r.monthsShort[u],MMMM:r.months[u],D:h,DD:y(h,0,2),d:l,dd:r.weekdaysMin[l],ddd:r.weekdaysShort[l],dddd:r.weekdays[l],H:d,HH:y(d,0,2),m:o,mm:y(o,0,2),s:c,ss:y(c,0,2),sss:y(m,0,3)};return s.replace(e,((t,e)=>e||k[t]))}valueOf(){return this.value.valueOf()}toString(){return this.value.toString()}}var g,w,M;M={en:a},(w="locales")in(g=b)?Object.defineProperty(g,w,{value:M,enumerable:!0,configurable:!0,writable:!0}):g[w]=M;const v=(...t)=>t&&t[0]instanceof b?t[0]:new b(...t);return t.Datetime=b,t.datetime=v,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
