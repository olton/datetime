!function(){"use strict";const t="YYYY-MM-DDTHH:mm:ss.sss",e="Invalid date",a=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|m{1,2}|s{1,3}/g,i=/(%[a-z])/gi,r={months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekStart:0},s={ms:"Milliseconds",s:"Seconds",m:"Minutes",h:"Hours",D:"Date",d:"Day",M:"Month",Y:"FullYear",y:"Year",t:"Time"},n="ms",o="second",h="minute",m="hour",u="day",l="week",d="month",c="year",required=(t="")=>{throw new Error("This argument is required!")},isset=(t,e=!0)=>{try{return e?void 0!==t:null!=t}catch(t){return!1}},not=t=>null==t,lpad=function(t,e,a){let i=""+t;return a&&i.length>=a?i:Array(a+1-i.length).join(e)+i};class Datetime{constructor(){const t=[].slice.call(arguments);if(this.value=new(Function.prototype.bind.apply(Date,[this].concat(t))),this.locale="en",this.weekStart=Datetime.locales.en.weekStart,this.utcMode=!1,this.mutable=!0,a=this.value.getTime(),isNaN(a))throw new Error(e);var a}static locales={en:r};static isDatetime(t){return t instanceof Datetime}static now(t=!1){return datetime()[t?"val":"time"]()}static parse(t=required()){return datetime(Date.parse(t))}static setLocale(t=required(),e=required()){Datetime.locales[t]=e}static getLocale(t="en"){return isset(Datetime.locales[t],!1)?Datetime.locales[t]:Datetime.locales.en}static align(t,e){let a,i,r=datetime(t);switch(e){case o:a=r.ms(0);break;case h:a=Datetime.align(r,o)[o](0);break;case m:a=Datetime.align(r,h)[h](0);break;case u:a=Datetime.align(r,m)[m](0);break;case d:a=Datetime.align(r,u)[u](1);break;case c:a=Datetime.align(r,d)[d](0);break;case l:i=r.weekDay(),a=Datetime.align(t,u).addDay(-i);break;default:a=r}return a}static alignEnd(t,e){let a,i,r=datetime(t);switch(e){case n:a=r.ms(999);break;case o:a=Datetime.alignEnd(r,n);break;case h:a=Datetime.alignEnd(r,o)[o](59);break;case m:a=Datetime.alignEnd(r,h)[h](59);break;case u:a=Datetime.alignEnd(r,m)[m](23);break;case d:a=Datetime.alignEnd(r,u)[u](1).add(1,d).add(-1,u);break;case c:a=Datetime.alignEnd(r,u)[d](11)[u](31);break;case l:i=r.weekDay(),a=Datetime.alignEnd(r,"day").addDay(6-i);break;default:a=t}return a}immutable(t){return this.mutable=!(not(t)||t),this}utc(){return this.utcMode=!0,this}local(){return this.utcMode=!1,this}useLocale(t,e){return this.locale=e||isset(Datetime.locales[t],!1)?t:"en",this.weekStart=Datetime.getLocale(this.locale).weekStart,this}clone(){const t=datetime(this.value);return t.locale=this.locale,t.weekStart=this.weekStart,t.mutable=this.mutable,t}align(t){return this.mutable?(this.value=Datetime.align(this,t).val(),this):this.clone().immutable(!1).align(t).immutable(!this.mutable)}alignEnd(t){return this.mutable?(this.value=Datetime.alignEnd(this,t).val(),this):this.clone().immutable(!1).alignEnd(t).immutable(!this.mutable)}val(t){return t instanceof Date?this.mutable?(this.value=t,this):datetime(t):this.value}year2(){return+(""+this.year()).substr(-2)}_set(t,e){const a="set"+(this.utcMode&&"t"!==t?"UTC":"")+s[t];if(this.mutable)return this.value[a](e),this;const i=this.clone();return i.value[a](e),i}_get(t){const e="get"+(this.utcMode&&"t"!==t?"UTC":"")+s[t];return this.value[e]()}_work(t,e){return arguments.length&&null!=e?this._set(t,e):this._get(t)}ms(t){return this._work("ms",t)}second(t){return this._work("s",t)}minute(t){return this._work("m",t)}hour(t){return this._work("h",t)}day(t){return this._work("D",t)}month(t){return this._work("M",t)}year(t){return this._work("Y",t)}time(t){return this._work("t",t)}weekDay(t){if(!arguments.length||not(t))return this.utcMode?this.value.getUTCDay():this.value.getDay();const e=t-this.weekDay();return this.day(this.day()+e),this}get(t){return"function"!=typeof this[t]?this:this[t]()}set(t,e){return"function"!=typeof this[t]?this:this[t](e)}add(t,e){switch(e){case m:return this.time(this.time()+60*t*60*1e3);case h:return this.time(this.time()+60*t*1e3);case o:return this.time(this.time()+1e3*t);case n:return this.time(this.time()+t);case u:return this.day(this.day()+t);case l:return this.day(this.day()+7*t);case d:return this.month(this.month()+t);case c:return this.year(this.year()+t)}}addHour(t){return this.add(t,m)}addMinute(t){return this.add(t,h)}addSecond(t){return this.add(t,o)}addMs(t){return this.add(t,n)}addDay(t){return this.add(t,u)}addWeek(t){return this.add(t,l)}addMonth(t){return this.add(t,d)}addYear(t){return this.add(t,c)}format(e,i){const r=e||t,s=Datetime.getLocale(i||this.locale),n=this.year(),o=this.year2(),h=this.month(),m=this.day(),u=this.weekDay(),l=this.hour(),d=this.minute(),c=this.second(),y=this.ms(),g={YY:o,YYYY:n,M:h+1,MM:lpad(h+1,0,2),MMM:s.monthsShort[h],MMMM:s.months[h],D:m,DD:lpad(m,0,2),d:u,dd:s.weekdaysMin[u],ddd:s.weekdaysShort[u],dddd:s.weekdays[u],H:l,HH:lpad(l,0,2),m:d,mm:lpad(d,0,2),s:c,ss:lpad(c,0,2),sss:lpad(y,0,3)};return r.replace(a,((t,e)=>e||g[t]))}valueOf(){return this.value.valueOf()}toString(){return this.value.toString()}}const datetime=(...t)=>t&&t[0]instanceof Datetime?t[0]:new Datetime(...t),y=Datetime.prototype.format,g={buddhist(){return this.year()+543},format(e,a){e=e||t;const i={BB:(this.buddhist()+"").slice(-2),BBBB:this.buddhist()};let r=e.replace(/(\[[^\]]+])|B{4}|B{2}/g,((t,e)=>e||i[t]));return y.bind(this)(r,a)}};Object.assign(Datetime.prototype,g);Object.assign(Datetime.prototype,{calendar(t){return((t,e)=>{let a,i=t instanceof Datetime?t.clone().align("month"):datetime(t),r=0===e||e?e:t.weekStart,s=r?i.isoWeekDay():i.weekDay(),n=Datetime.getLocale(i.locale),o=datetime();const h={month:n.months[i.month()],days:[],weekstart:e?1:0,weekdays:((t,e)=>{if(0===e)return t;let a=t[0];return t.slice(1).concat([a])})(n.weekdaysMin,r),today:o.format("YYYY-MM-DD"),weekends:[],week:[]};for(i.addDay(r?1-s:-s),a=0;a<42;a++)h.days.push(i.format("YYYY-MM-DD")),i.add(1,"day");for(h.weekends=h.days.filter((function(t,e){return 0===r?[0,6,7,13,14,20,21,27,28,34,35,41].includes(e):[5,6,12,13,19,20,26,27,33,34,40,41].includes(e)})),i=o.clone(),s=r?i.isoWeekDay():i.weekDay(),i.addDay(r?1-s:-s),a=0;a<7;a++)h.week.push(i.format("YYYY-MM-DD")),i.add(1,"day");return h})(this,t)}});const D=Datetime.prototype.format;Object.assign(Datetime.prototype,{century(){return Math.ceil(this.year()/100)},format(e,a){e=e||t;const i={C:this.century()};let r=e.replace(/(\[[^\]]+])|C/g,((t,e)=>e||i[t]));return D.bind(this)(r,a)}}),Object.assign(Datetime.prototype,{same(t){return this.time()===datetime(t).time()},compare(t,e,a="="){const i=datetime(t),r=datetime(this.value);let s,n;switch(!1===["<",">",">=","<=","=","!="].includes(a=a||"=")&&(a="="),e=(e||"ms").toLowerCase(),s=r.align(e).time(),n=i.align(e).time(),a){case"<":return s<n;case">":return s>n;case"<=":return s<=n;case">=":return s>=n;case"=":return s===n;case"!=":return s!==n}},between(t,e){return this.younger(t)&&this.older(e)},older(t,e){return this.compare(t,e,"<")},olderOrEqual(t,e){return this.compare(t,e,"<=")},younger(t,e){return this.compare(t,e,">")},youngerOrEqual(t,e){return this.compare(t,e,">=")},equal(t,e){return this.compare(t,e,"=")},notEqual(t,e){return this.compare(t,e,"!=")},diff(t){const e=datetime(t),a=Math.abs(this.time()-e.time()),i=Math.abs(this.month()-e.month()+12*(this.year()-e.year()));return{ms:a,second:Math.ceil(a/1e3),minute:Math.ceil(a/6e4),hour:Math.ceil(a/36e5),day:Math.ceil(a/864e5),month:i,year:Math.floor(i/12)}},distance(t,e){return this.diff(t)[e]}}),Object.assign(Datetime.prototype,{isLeapYear(){const t=this.year();return t%4==0&&t%100!=0||t%400==0}}),Object.assign(Datetime.prototype,{dayOfYear(){const t=this.month(),e=this.day();return[0,31,59,90,120,151,181,212,243,273,304,334][t]+e+(t>1&&this.isLeapYear()?1:0)}}),Object.assign(Datetime.prototype,{daysInMonth(){return datetime(this.value).add(1,"month").day(1).add(-1,"day").day()},daysInYear(){return this.isLeapYear()?366:365},daysInYearMap(){const t=[],e=datetime(this.value);e.month(0).day(1);for(let a=0;a<12;a++)e.add(1,"month").add(-1,"day"),t.push(e.day()),e.day(1).add(1,"month");return t},daysInYearObj(t,e){const a=this.daysInYearMap(),i={},r=Datetime.getLocale(t||this.locale);return a.forEach(((t,a)=>i[r[e?"monthsShort":"months"][a]]=t)),i}}),Object.assign(Datetime.prototype,{decade(){return 10*Math.floor(this.year()/10)},decadeStart(){const t=this.decade();return(this.mutable?this:this.clone()).year(t).month(0).day(1)},decadeEnd(){const t=this.decade()+9;return(this.mutable?this:this.clone()).year(t).month(11).day(31)},decadeOfMonth(){const t=this.clone().add(1,"month").day(1).add(-1,"day").day()/3,e=this.day();return e<=t?1:e<=2*t?2:3}}),Object.assign(Datetime,{from(t,a,i){let r,s,n,o,h,m,u,l,d,c,y,g,D,p,b,f,k,w,M;const getIndex=function(t,e){return t.map((function(t){return t.toLowerCase()})).indexOf(e.toLowerCase())},getPartIndex=function(t){const e={month:["M","mm","%m"],day:["D","dd","%d"],year:["YY","YYYY","yy","yyyy","%y"],hour:["h","hh","%h"],minute:["m","mi","i","ii","%i"],second:["s","ss","%s"],ms:["sss"]};let a,i,r=-1;for(let s=0;s<e[t].length;s++)if(a=e[t][s],i=n.indexOf(a),-1!==i){r=i;break}return r};if(!a)return datetime();if(r=t.replace(/[\/,.:\s]/g,"-"),s=a.toLowerCase().replace(/[^a-zA-Z0-9%]/g,"-"),n=s.split("-"),o=r.split("-"),""===r.replace(/-/g,"").trim())throw new Error(e);return h=getPartIndex("month"),m=getPartIndex("day"),u=getPartIndex("year"),l=getPartIndex("hour"),d=getPartIndex("minute"),c=getPartIndex("second"),y=getPartIndex("ms"),h>-1&&o[h]?isNaN(parseInt(o[h]))?(o[h]=function(t){let e=-1;const a=Datetime.getLocale(i||"en");return not(t)?-1:(e=getIndex(a.months,t),-1===e&&void 0!==a.monthsParental&&(e=getIndex(a.monthsParental,t)),-1===e&&(t=t.substr(0,3),e=getIndex(a.monthsShort,t)),-1===e?-1:e+1)}(o[h]),-1===o[h]&&(h=-1)):(M=parseInt(o[h]),(M<1||M>12)&&(h=-1)):h=-1,g=u>-1&&o[u]?o[u]:0,D=h>-1&&o[h]?o[h]:1,p=m>-1&&o[m]?o[m]:1,b=l>-1&&o[l]?o[l]:0,f=d>-1&&o[d]?o[d]:0,k=c>-1&&o[c]?o[c]:0,w=y>-1&&o[y]?o[y]:0,datetime(g,D-1,p,b,f,k,w)}});const p=Datetime.prototype.format;Object.assign(Datetime.prototype,{ampm(t){let e=this.hour()<12?"AM":"PM";return t?e.toLowerCase():e},hour12:function(t,e){let a=t;return 0===arguments.length?this.hour()%12:("pm"===(e=e||"am").toLowerCase()&&(a+=12),this.hour(a))},format:function(e,a){let i,r,s=this.hour12();return e=e||t,i={a:"["+this.ampm(!0)+"]",A:"["+this.ampm(!1)+"]",h:s,hh:lpad(s,0,2)},r=e.replace(/(\[[^\]]+])|a|A|h{1,2}/g,((t,e)=>e||i[t])),p.bind(this)(r,a)}});const b=Datetime.prototype.format,f=Datetime.align,k=Datetime.alignEnd;Object.assign(Datetime,{align(t,e){let a,i,r=datetime(t);if("isoWeek"===e)i=r.isoWeekDay(),a=f(r,"day").addDay(1-i);else a=f.apply(void 0,[r,e]);return a},alignEnd(t,e){let a,i,r=datetime(t);if("isoWeek"===e)i=r.isoWeekDay(),a=k(r,"day").addDay(7-i);else a=k.apply(void 0,[r,e]);return a}}),Object.assign(Datetime.prototype,{isoWeekDay(t){let e=(this.weekDay()+6)%7+1;return!arguments.length||not(t)?e:this.addDay(t-e)},format(e,a){e=e||t;const i={I:this.isoWeekDay()};let r=e.replace(/(\[[^\]]+])|I{1,2}/g,((t,e)=>e||i[t]));return b.bind(this)(r,a)}}),Object.assign(Datetime,{max(){return[].slice.call(arguments).map((t=>datetime(t))).sort(((t,e)=>e.time()-t.time()))[0]}}),Object.assign(Datetime.prototype,{max(){return Datetime.max.apply(this,[this].concat([].slice.call(arguments)))}}),Object.assign(Datetime,{min(){return[].slice.call(arguments).map((t=>datetime(t))).sort(((t,e)=>t.time()-e.time()))[0]}}),Object.assign(Datetime.prototype,{min(){return Datetime.min.apply(this,[this].concat([].slice.call(arguments)))}});const w=Datetime.align,M=Datetime.alignEnd,S=Datetime.prototype.add;Object.assign(Datetime,{align(t,e){let a,i=datetime(t);if("quarter"===e)a=Datetime.align(i,"day").day(1).month(3*i.quarter()-3);else a=w.apply(this,[i,e]);return a},alignEnd(t,e){let a,i=datetime(t);if("quarter"===e)a=Datetime.align(i,"quarter").add(3,"month").add(-1,"ms");else a=M.apply(this,[i,e]);return a}}),Object.assign(Datetime.prototype,{quarter(){const t=this.month();return t<=2?1:t<=5?2:t<=8?3:4},add(t,e){return"quarter"===e?this.month(this.month()+3*t):S.bind(this)(t,e)},addQuarter(t){return this.add(t,"quarter")}}),Object.assign(Datetime,{sort(e,a){let i,r;const s={};switch("string"==typeof a||"object"!=typeof a||not(a)?(s.format=t,s.dir=a&&"DESC"===a.toUpperCase()?"DESC":"ASC",s.returnAs="datetime"):(s.format=a.format||t,s.dir=(a.dir||"ASC").toUpperCase(),s.returnAs=a.format?"string":a.returnAs||"datetime"),r=e.map((t=>datetime(t))).sort(((t,e)=>t.valueOf()-e.valueOf())),"DESC"===s.dir&&r.reverse(),s.returnAs){case"string":i=r.map((t=>t.format(s.format)));break;case"date":i=r.map((t=>t.val()));break;default:i=r}return i}});const O=Datetime.prototype.format;Object.assign(Datetime.prototype,{utcOffset(){return this.value.getTimezoneOffset()},timezone(){return this.toTimeString().replace(/.+GMT([+-])(\d{2})(\d{2}).+/,"$1$2:$3")},timezoneName(){return this.toTimeString().replace(/.+\((.+?)\)$/,"$1")},format(e,a){e=e||t;const i={Z:this.utcMode?"Z":this.timezone(),ZZ:this.timezone().replace(":",""),ZZZ:"[GMT]"+this.timezone(),z:this.timezoneName()};let r=e.replace(/(\[[^\]]+])|Z{1,3}|z/g,((t,e)=>e||i[t]));return O.bind(this)(r,a)}});const v=Datetime.prototype.format;Object.assign(Datetime.prototype,{weekNumber(t){let e,a,i,r,s,n;return t=+t||0,i=datetime(this.year(),0,1),r=i.weekDay()-t,r=r>=0?r:r+7,s=Math.floor((this.time()-i.time()-6e4*(this.utcOffset()-i.utcOffset()))/864e5)+1,r<4?(n=Math.floor((s+r-1)/7)+1,n>52&&(e=datetime(this.year()+1,0,1),a=e.weekDay()-t,a=a>=0?a:a+7,n=a<4?1:53)):n=Math.floor((s+r-1)/7),n},isoWeekNumber(){return this.weekNumber(1)},weeksInYear(t){return datetime(this.value).month(11).day(31).weekNumber(t)},format:function(e,a){let i,r,s=this.weekNumber(),n=this.isoWeekNumber();return e=e||t,i={W:s,WW:lpad(s,0,2),WWW:n,WWWW:lpad(n,0,2)},r=e.replace(/(\[[^\]]+])|W{1,4}/g,((t,e)=>e||i[t])),v.bind(this)(r,a)}}),Object.assign(Datetime.prototype,{strftime(t,e){const a=t||"%Y-%m-%dT%H:%M:%S.%Q%t",r=Datetime.getLocale(e||this.locale),s=this.year(),n=this.year2(),o=this.month(),h=this.day(),m=this.weekDay(),u=this.hour(),l=this.hour12(),d=this.minute(),c=this.second(),y=this.ms(),g=this.time(),D=lpad(h,0,2),p=lpad(o+1,0,2),b=lpad(u,0,2),f=lpad(l,0,2),k=lpad(d,0,2),w=lpad(c,0,2),M=lpad(y,0,3),S=this,thursday=function(){return datetime(S.value).day(S.day()-(S.weekDay()+6)%7+3)},O={"%a":r.weekdaysShort[m],"%A":r.weekdays[m],"%b":r.monthsShort[o],"%h":r.monthsShort[o],"%B":r.months[o],"%c":this.toString().substring(0,this.toString().indexOf(" (")),"%C":this.century(),"%d":D,"%D":[D,p,s].join("/"),"%e":h,"%F":[s,p,D].join("-"),"%G":thursday().year(),"%g":(""+thursday().year()).slice(2),"%H":b,"%I":f,"%j":lpad(this.dayOfYear(),0,3),"%k":b,"%l":f,"%m":p,"%n":o+1,"%M":k,"%p":this.ampm(),"%P":this.ampm(!0),"%s":Math.round(g/1e3),"%S":w,"%u":this.isoWeekDay(),"%V":this.isoWeekNumber(),"%w":m,"%x":this.toLocaleDateString(),"%X":this.toLocaleTimeString(),"%y":n,"%Y":s,"%z":this.timezone().replace(":",""),"%Z":this.timezoneName(),"%r":[f,k,w].join(":")+" "+this.ampm(),"%R":[b,k].join(":"),"%T":[b,k,w].join(":"),"%Q":M,"%q":y,"%t":this.timezone()};return a.replace(i,(t=>0===O[t]||O[t]?O[t]:t))}}),Object.assign(Datetime,{isToday(t){const e=datetime(t).align("day"),a=datetime().align("day");return e.time()===a.time()}}),Object.assign(Datetime.prototype,{isToday(){return Datetime.isToday(this)},today(){const t=datetime();return this.mutable?this.val(t.val()):t}}),Object.assign(Datetime,{isTomorrow(t){const e=datetime(t).align("day"),a=datetime().align("day").add(1,"day");return e.time()===a.time()}}),Object.assign(Datetime.prototype,{isTomorrow(){return Datetime.isTomorrow(this)},tomorrow(){return this.mutable?this.add(1,"day"):this.clone().immutable(!1).add(1,"day").immutable(!this.mutable)}}),Object.assign(Datetime.prototype,{toDateString(){return this.value.toDateString()},toISOString(){return this.value.toISOString()},toJSON(){return this.value.toJSON()},toGMTString(){return this.value.toGMTString()},toLocaleDateString(){return this.value.toLocaleDateString()},toLocaleString(){return this.value.toLocaleString()},toLocaleTimeString(){return this.value.toLocaleTimeString()},toTimeString(){return this.value.toTimeString()},toUTCString(){return this.value.toUTCString()},toDate(){return new Date(this.value)}}),Object.assign(Datetime,{timestamp:()=>(new Date).getTime()/1e3}),Object.assign(Datetime.prototype,{unix(t){let e;return!arguments.length||not(t)?Math.floor(this.valueOf()/1e3):(e=1e3*t,this.mutable?this.time(e):datetime(this.value).time(e))},timestamp(){return this.unix()}}),Object.assign(Datetime,{isYesterday(t){const e=datetime(t).align("day"),a=datetime().align("day").add(-1,"day");return e.time()===a.time()}}),Object.assign(Datetime.prototype,{isYesterday(){return Datetime.isYesterday(this)},yesterday(){return this.mutable?this.add(-1,"day"):this.clone().immutable(!1).add(-1,"day").immutable(!this.mutable)}});const getResult=t=>{let e,a=Math.floor(t/1e3),i=Math.floor(a/60),r=Math.floor(i/60),s=Math.floor(r/24),n=Math.floor(s/30),o=Math.floor(n/12);return o>=1&&(e=`${o} year`),n>=1&&o<1&&(e=`${n} mon`),s>=1&&s<=30&&(e=`${s} days`),r&&r<24&&(e=`${r} hour`),i&&i>=40&&i<60&&(e="less a hour"),i&&i<40&&(e=`${i} min`),a&&a>=30&&a<60&&(e=`${a} sec`),a<30&&(e="few sec"),e};Object.assign(Datetime,{timeLapse(t){let e=datetime(t),a=datetime();return getResult(a-e)}}),Object.assign(Datetime.prototype,{timeLapse(){let t=datetime()-+this;return getResult(t)}});const Y={parseTime(t){if(!isNaN(t))return Math.abs(+t);return t.match(/([0-9]+d)|([0-9]{1,2}h)|([0-9]{1,2}m)|([0-9]{1,2}s)/gm).reduce(((t,e)=>{let a;return e.includes("d")?a=864e5*parseInt(e):e.includes("h")?a=36e5*parseInt(e):e.includes("m")?a=6e4*parseInt(e):e.includes("s")&&(a=1e3*parseInt(e)),t+a}),0)}};Object.assign(Datetime,Y);const info=()=>{console.info("%c Datetime Library %c v3.0.4 %c 08.05.2024, 14:05:56 ","color: #ffffff; font-weight: bold; background: #003152","color: white; background: darkgreen","color: white; background: #0080fe;")};Datetime.info=info,globalThis.Datetime=Datetime,globalThis.datetime=datetime,globalThis.date||(globalThis.date=datetime),info()}();
